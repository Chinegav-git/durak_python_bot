# Історія змін

## [Невипущено]

### Додано
- Створено файл CHANGELOG.md для відстежування історії змін у проекті.
- В кінці гри тепер виводиться повідомлення зі списком переможців та програвших.
- Додано команду `/test_win` для адміністраторів, яка дозволяє миттєво завершити гру, визначивши переможця.

### Змінено
- Уніфіковано ігрові повідомлення для кращої консистентності. Повідомлення про перемогу, нічию та закінчення гри були приведені до єдиного стилю.
- Оновлено документацію `instructions.md`, додано розділ про ключові бібліотеки, що використовуються в проекті.
- **Покращено `/test_win`:** Команда `/test_win` тепер підтримує визначення переможця за ID користувача або через відповідь на повідомлення. Додано перевірки та інформативні повідомлення про помилки.

### Виправлено
- **Архітектурне виправлення:** Усунуто першопричину помилки `NameError: is_admin`. Ініціалізація `Bot` та `Dispatcher` централізована в `loader.py`. Головний файл `bot.py` тепер імпортує єдиний екземпляр `dp` і реєструє в ньому фільтр до імпорту хендлерів, що гарантує правильний порядок завантаження та усуває конфлікти.
- Виправлено критичну помилку сумісності в реалізації команди `/test_win`, замінивши синтаксис `aiogram v3` (Router) на коректний для `aiogram v2` (`@dp.message_handler`).
- **Виправлено `AttributeError` в `/test_win`:** Додано відсутній метод `player_for_id` до об'єкта `Game`, що усунуло помилку при перевірці гравця.
- **Виправлено відправку повідомлень в `/test_win`:** Виправлено помилку, через яку `GameManager` не міг надсилати повідомлення. Тепер екземпляр бота коректно передається в `GameManager` при запуску, що дозволяє команді `/test_win` успішно завершувати гру та інформувати про переможця.
